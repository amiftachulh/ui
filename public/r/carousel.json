{
  "name": "carousel",
  "type": "registry:ui",
  "dependencies": [
    "embla-carousel-react"
  ],
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "registry/default/ui/carousel.tsx",
      "type": "registry:ui",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { LuArrowLeft, LuArrowRight } from \"react-icons/lu\";\nimport useEmblaCarousel, { type UseEmblaCarouselType } from \"embla-carousel-react\";\nimport { css, cx } from \"styled-system/css\";\nimport { styled } from \"styled-system/jsx\";\nimport { carousel } from \"styled-system/recipes\";\nimport { Button } from \"@/registry/default/ui/button\";\n\ntype CarouselApi = UseEmblaCarouselType[1];\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\ntype CarouselOptions = UseCarouselParameters[0];\ntype CarouselPlugin = UseCarouselParameters[1];\n\ntype CarouselProps = {\n  opts?: CarouselOptions;\n  plugins?: CarouselPlugin;\n  orientation?: \"horizontal\" | \"vertical\";\n  setApi?: (api: CarouselApi) => void;\n};\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\n  api: ReturnType<typeof useEmblaCarousel>[1];\n  scrollPrev: () => void;\n  scrollNext: () => void;\n  canScrollPrev: boolean;\n  canScrollNext: boolean;\n} & CarouselProps;\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null);\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext);\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\");\n  }\n\n  return context;\n}\n\nconst classes = carousel();\n\nfunction Root({\n  orientation = \"horizontal\",\n  opts,\n  setApi,\n  plugins,\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & CarouselProps) {\n  const [carouselRef, api] = useEmblaCarousel(\n    {\n      ...opts,\n      axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n    },\n    plugins\n  );\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n  const [canScrollNext, setCanScrollNext] = React.useState(false);\n\n  const onSelect = React.useCallback((api: CarouselApi) => {\n    if (!api) return;\n    setCanScrollPrev(api.canScrollPrev());\n    setCanScrollNext(api.canScrollNext());\n  }, []);\n\n  const scrollPrev = React.useCallback(() => {\n    api?.scrollPrev();\n  }, [api]);\n\n  const scrollNext = React.useCallback(() => {\n    api?.scrollNext();\n  }, [api]);\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === \"ArrowLeft\") {\n        event.preventDefault();\n        scrollPrev();\n      } else if (event.key === \"ArrowRight\") {\n        event.preventDefault();\n        scrollNext();\n      }\n    },\n    [scrollPrev, scrollNext]\n  );\n\n  React.useEffect(() => {\n    if (!api || !setApi) return;\n    setApi(api);\n  }, [api, setApi]);\n\n  React.useEffect(() => {\n    if (!api) return;\n    onSelect(api);\n    api.on(\"reInit\", onSelect);\n    api.on(\"select\", onSelect);\n\n    return () => {\n      api?.off(\"select\", onSelect);\n    };\n  }, [api, onSelect]);\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        carouselRef,\n        api: api,\n        opts,\n        orientation: orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n        scrollPrev,\n        scrollNext,\n        canScrollPrev,\n        canScrollNext,\n      }}\n    >\n      <div\n        data-slot=\"carousel\"\n        onKeyDownCapture={handleKeyDown}\n        className={cx(classes.root, className)}\n        role=\"region\"\n        aria-roledescription=\"carousel\"\n        {...props}\n      >\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  );\n}\nconst Carousel = styled(Root);\nCarousel.displayName = \"Carousel\";\n\nfunction Content({ className, ...props }: React.ComponentProps<\"div\">) {\n  const { carouselRef, orientation } = useCarousel();\n\n  return (\n    <div ref={carouselRef} data-slot=\"carousel-content\" className={css({ overflow: \"hidden\" })}>\n      <div data-orientation={orientation} className={cx(classes.content, className)} {...props} />\n    </div>\n  );\n}\nconst CarouselContent = styled(Content);\nCarouselContent.displayName = \"CarouselContent\";\n\nfunction Item({ className, ...props }: React.ComponentProps<\"div\">) {\n  const { orientation } = useCarousel();\n\n  return (\n    <div\n      data-slot=\"carousel-item\"\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      data-orientation={orientation}\n      className={cx(classes.item, className)}\n      {...props}\n    />\n  );\n}\nconst CarouselItem = styled(Item);\nCarouselItem.displayName = \"CarouselItem\";\n\nfunction CarouselPrevious({\n  className,\n  variant = \"outline\",\n  size = \"icon\",\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel();\n\n  return (\n    <Button\n      data-slot=\"carousel-previous\"\n      data-orientation={orientation}\n      variant={variant}\n      size={size}\n      className={cx(classes.previous, className)}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <LuArrowLeft />\n      <span className={css({ srOnly: true })}>Previous slide</span>\n    </Button>\n  );\n}\n\nfunction CarouselNext({\n  className,\n  variant = \"outline\",\n  size = \"icon\",\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollNext, canScrollNext } = useCarousel();\n\n  return (\n    <Button\n      data-slot=\"carousel-next\"\n      data-orientation={orientation}\n      variant={variant}\n      size={size}\n      className={cx(classes.next, className)}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <LuArrowRight />\n    </Button>\n  );\n}\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n};\n"
    },
    {
      "path": "registry/default/slot-recipes/carousel.ts",
      "type": "registry:slot-recipe",
      "content": "import { defineSlotRecipe } from \"@pandacss/dev\";\n\nexport const carouselSlotRecipe = defineSlotRecipe({\n  className: \"carousel\",\n  slots: [\"root\", \"content\", \"item\", \"previous\", \"next\"],\n  base: {\n    root: {\n      pos: \"relative\",\n    },\n\n    content: {\n      display: \"flex\",\n      _horizontal: {\n        ml: \"-4\",\n      },\n      _vertical: {\n        mt: \"-4\",\n        flexDir: \"column\",\n      },\n    },\n\n    item: {\n      minW: \"0\",\n      flexShrink: \"0\",\n      flexGrow: \"0\",\n      flexBasis: \"full\",\n      _horizontal: {\n        pl: \"4\",\n      },\n      _vertical: {\n        pt: \"4\",\n      },\n    },\n\n    previous: {\n      pos: \"absolute\",\n      w: \"8!\",\n      h: \"8!\",\n      rounded: \"full\",\n      _horizontal: {\n        top: \"50%\",\n        left: \"-12\",\n        transform: \"translateY(-50%)\",\n      },\n      _vertical: {\n        top: \"-12\",\n        left: \"50%\",\n        transform: \"translateX(-50%) rotate(90deg)\",\n      },\n    },\n\n    next: {\n      pos: \"absolute\",\n      w: \"8!\",\n      h: \"8!\",\n      rounded: \"full\",\n      _horizontal: {\n        top: \"50%\",\n        right: \"-12\",\n        transform: \"translateY(-50%)\",\n      },\n      _vertical: {\n        bottom: \"-12\",\n        left: \"50%\",\n        transform: \"translateX(-50%) rotate(90deg)\",\n      },\n    },\n  },\n});\n"
    }
  ]
}