{
  "name": "file-upload-validation",
  "type": "registry:example",
  "registryDependencies": [
    "file-upload"
  ],
  "files": [
    {
      "path": "registry/default/examples/file-upload-validation.tsx",
      "type": "registry:example",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { LuUpload, LuX } from \"react-icons/lu\";\nimport { toast } from \"sonner\";\nimport { css } from \"styled-system/css\";\nimport { styled } from \"styled-system/jsx\";\nimport { Button } from \"@/registry/default/ui/button\";\nimport {\n  FileUpload,\n  FileUploadDropzone,\n  FileUploadItem,\n  FileUploadItemDelete,\n  FileUploadItemMetadata,\n  FileUploadItemPreview,\n  FileUploadList,\n  FileUploadTrigger,\n} from \"@/registry/default/ui/file-upload\";\n\nexport default function FileUploadValidation() {\n  const [files, setFiles] = React.useState<File[]>([]);\n\n  const onFileValidate = React.useCallback(\n    (file: File): string | null => {\n      // Validate max files\n      if (files.length >= 2) {\n        return \"You can only upload up to 2 files\";\n      }\n\n      // Validate file type (only images)\n      if (!file.type.startsWith(\"image/\")) {\n        return \"Only image files are allowed\";\n      }\n\n      // Validate file size (max 2MB)\n      const MAX_SIZE = 2 * 1024 * 1024; // 2MB\n      if (file.size > MAX_SIZE) {\n        return `File size must be less than ${MAX_SIZE / (1024 * 1024)}MB`;\n      }\n\n      return null;\n    },\n    [files]\n  );\n\n  const onFileReject = React.useCallback((file: File, message: string) => {\n    toast(message, {\n      description: `\"${file.name.length > 20 ? `${file.name.slice(0, 20)}...` : file.name}\" has been rejected`,\n    });\n  }, []);\n\n  return (\n    <FileUpload\n      value={files}\n      onValueChange={setFiles}\n      onFileValidate={onFileValidate}\n      onFileReject={onFileReject}\n      accept=\"image/*\"\n      maxFiles={2}\n      css={{ w: \"full\", maxW: \"md\" }}\n      multiple\n    >\n      <FileUploadDropzone>\n        <styled.div css={{ display: \"flex\", flexDir: \"column\", alignItems: \"center\", gap: \"1\" }}>\n          <styled.div\n            css={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              rounded: \"full\",\n              borderWidth: \"1px\",\n              p: \"2.5\",\n            }}\n          >\n            <LuUpload className={css({ w: \"6\", h: \"6\", color: \"muted.fg\" })} />\n          </styled.div>\n          <styled.p css={{ fontWeight: \"medium\", textStyle: \"sm\" }}>\n            Drag & drop files here\n          </styled.p>\n          <styled.p css={{ color: \"muted.fg\", textStyle: \"xs\" }}>\n            Or click to browse (max 2 files)\n          </styled.p>\n        </styled.div>\n        <FileUploadTrigger asChild>\n          <Button variant=\"outline\" size=\"sm\" css={{ mt: \"2\", w: \"fit\" }}>\n            Browse files\n          </Button>\n        </FileUploadTrigger>\n      </FileUploadDropzone>\n      <FileUploadList>\n        {files.map((file) => (\n          <FileUploadItem key={file.name} value={file}>\n            <FileUploadItemPreview />\n            <FileUploadItemMetadata />\n            <FileUploadItemDelete asChild>\n              <Button variant=\"ghost\" size=\"icon\" css={{ w: \"7\", h: \"7\" }}>\n                <LuX />\n              </Button>\n            </FileUploadItemDelete>\n          </FileUploadItem>\n        ))}\n      </FileUploadList>\n    </FileUpload>\n  );\n}\n"
    }
  ]
}