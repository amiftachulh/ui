{
  "name": "tags-input",
  "type": "registry:ui",
  "files": [
    {
      "path": "registry/default/ui/tags-input.tsx",
      "type": "registry:ui",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { LuX } from \"react-icons/lu\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { createStyleContext } from \"styled-system/jsx\";\nimport { tagsInput } from \"styled-system/recipes\";\n\nconst { withRootProvider, withContext } = createStyleContext(tagsInput);\n\n/* -----------------------------------------------------------------------------\n * Context\n * -------------------------------------------------------------------------- */\n\ninterface TagsInputContextValue {\n  inputRef: React.RefObject<HTMLInputElement | null>;\n  value: string[];\n  setValue: (value: string[]) => void;\n  disabled: boolean;\n  removeTag: (index: number) => void;\n}\n\nconst TagsInputContext = React.createContext<TagsInputContextValue | null>(null);\n\nfunction useTagsInput() {\n  const context = React.useContext(TagsInputContext);\n  if (!context) {\n    throw new Error(\"useTagsInput must be used within a TagsInput\");\n  }\n  return context;\n}\n\n/* -----------------------------------------------------------------------------\n * Root\n * -------------------------------------------------------------------------- */\n\nfunction Root({\n  value: valueProp,\n  defaultValue = [],\n  onValueChange,\n  disabled = false,\n  children,\n}: {\n  value?: string[];\n  defaultValue?: string[];\n  onValueChange?: (value: string[]) => void;\n  disabled?: boolean;\n  children: React.ReactNode;\n}) {\n  const [internalValue, setInternalValue] = React.useState(defaultValue);\n\n  const isControlled = valueProp !== undefined;\n  const value = isControlled ? valueProp! : internalValue;\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  const setValue = React.useCallback(\n    (next: string[]) => {\n      if (!isControlled) {\n        setInternalValue(next);\n      }\n      onValueChange?.(next);\n    },\n    [isControlled, onValueChange]\n  );\n\n  const removeTag = React.useCallback(\n    (index: number) => setValue(value.filter((_, i) => i !== index)),\n    [value, setValue]\n  );\n\n  return (\n    <TagsInputContext value={{ value, setValue, inputRef, disabled, removeTag }}>\n      {children}\n    </TagsInputContext>\n  );\n}\n\nconst TagsInput = withRootProvider(Root);\n\n/* -----------------------------------------------------------------------------\n * Container\n * -------------------------------------------------------------------------- */\n\nfunction Container(props: React.ComponentProps<\"div\">) {\n  const { inputRef, disabled } = useTagsInput();\n\n  function handleContainerClick() {\n    inputRef.current?.focus();\n  }\n\n  return (\n    <div\n      data-slot=\"tags-input\"\n      onClick={handleContainerClick}\n      aria-disabled={disabled ? true : undefined}\n      {...props}\n    />\n  );\n}\n\nconst TagsInputContainer = withContext(Container, \"container\");\n\n/* -----------------------------------------------------------------------------\n * List\n * -------------------------------------------------------------------------- */\n\nfunction List({\n  children,\n  ...props\n}: Omit<React.ComponentProps<\"div\">, \"children\"> & {\n  children: (value: string[]) => React.ReactNode;\n}) {\n  const { value } = useTagsInput();\n\n  return (\n    <div data-slot=\"tags-input-list\" role=\"list\" {...props}>\n      {children(value)}\n    </div>\n  );\n}\n\nconst TagsInputList = withContext(List, \"list\");\n\n/* -----------------------------------------------------------------------------\n * Item\n * -------------------------------------------------------------------------- */\n\ninterface TagsInputItemContextValue {\n  index: number;\n  disabled?: boolean;\n}\n\nconst TagsInputItemContext = React.createContext<TagsInputItemContextValue | null>(null);\n\nfunction useTagsInputItem() {\n  const context = React.useContext(TagsInputItemContext);\n  if (!context) {\n    throw new Error(\"useTagsInputItem must be used within a TagsInputItem\");\n  }\n  return context;\n}\n\nfunction Item({\n  index,\n  children,\n  disabled,\n  ...props\n}: React.ComponentProps<\"div\"> & { index: number; disabled?: boolean }) {\n  return (\n    <TagsInputItemContext value={{ index, disabled }}>\n      <div data-slot=\"tags-input-item\" role=\"listitem\" {...props}>\n        {children}\n      </div>\n    </TagsInputItemContext>\n  );\n}\n\nconst TagsInputItem = withContext(Item, \"item\");\n\n/* -----------------------------------------------------------------------------\n * Item Text\n * -------------------------------------------------------------------------- */\n\nconst TagsInputItemText = withContext(\"span\", \"itemText\", {\n  defaultProps: {\n    \"data-slot\": \"tags-input-item-text\",\n  },\n});\n\n/* -----------------------------------------------------------------------------\n * Item Delete Trigger\n * -------------------------------------------------------------------------- */\n\nfunction ItemDeleteTrigger({\n  disabled,\n  children,\n  asChild,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const { removeTag, disabled: rootDisabled } = useTagsInput();\n  const { index, disabled: itemDisabled } = useTagsInputItem();\n\n  const Component = asChild ? Slot : \"button\";\n  const isDisabled = disabled || itemDisabled || rootDisabled;\n\n  function handleClick() {\n    if (isDisabled) return;\n    removeTag(index);\n  }\n\n  return (\n    <Component\n      data-slot=\"tags-input-item-delete-trigger\"\n      disabled={isDisabled}\n      onClick={handleClick}\n      {...props}\n    >\n      {children ?? <LuX />}\n    </Component>\n  );\n}\n\nconst TagsInputItemDeleteTrigger = withContext(ItemDeleteTrigger, \"itemDeleteTrigger\");\n\n/* -----------------------------------------------------------------------------\n * Input\n * -------------------------------------------------------------------------- */\n\nfunction Input({ placeholder = \"Add tags...\", disabled, ...props }: React.ComponentProps<\"input\">) {\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const { inputRef, value, setValue, disabled: rootDisabled } = useTagsInput();\n\n  const handleKeyDown = React.useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === \"Enter\") {\n        e.preventDefault();\n\n        const trimmed = inputValue.trim();\n        if (trimmed) {\n          if (!value.includes(trimmed) && setValue) {\n            setValue([...value, trimmed]);\n          }\n          setInputValue(\"\");\n        }\n      } else if (e.key === \"Backspace\" && !inputValue && value.length > 0) {\n        setValue?.(value.slice(0, -1));\n      }\n    },\n    [inputValue, setValue, value]\n  );\n\n  return (\n    <input\n      ref={inputRef}\n      data-slot=\"tags-input-input\"\n      onKeyDown={handleKeyDown}\n      placeholder={placeholder}\n      value={inputValue}\n      onChange={(e) => setInputValue(e.target.value)}\n      disabled={disabled || rootDisabled}\n      {...props}\n    />\n  );\n}\n\nconst TagsInputInput = withContext(Input, \"input\");\n\n/* -----------------------------------------------------------------------------\n * Clear Trigger\n * -------------------------------------------------------------------------- */\n\nfunction ClearTrigger({\n  asChild,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean;\n}) {\n  const { setValue } = useTagsInput();\n\n  const Component = asChild ? Slot : \"button\";\n\n  return (\n    <Component\n      type=\"button\"\n      onClick={() => setValue([])}\n      data-slot=\"tags-input-clear-trigger\"\n      {...props}\n    />\n  );\n}\n\nconst TagsInputClearTrigger = withContext(ClearTrigger, \"clearTrigger\");\n\n/* -----------------------------------------------------------------------------\n * Exports\n * -------------------------------------------------------------------------- */\n\nexport {\n  TagsInput,\n  TagsInputContainer,\n  TagsInputList,\n  TagsInputItem,\n  TagsInputItemText,\n  TagsInputItemDeleteTrigger,\n  TagsInputInput,\n  TagsInputClearTrigger,\n};\n"
    },
    {
      "path": "registry/default/slot-recipes/tags-input.ts",
      "type": "registry:slot-recipe",
      "content": "import { defineSlotRecipe } from \"@pandacss/dev\";\n\nexport const tagsInputSlotRecipe = defineSlotRecipe({\n  className: \"tags-input\",\n  slots: [\"container\", \"list\", \"item\", \"itemText\", \"itemDeleteTrigger\", \"input\", \"clearTrigger\"],\n  base: {\n    container: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      w: \"full\",\n      minW: \"0\",\n      minH: \"9\",\n      bg: \"transparent\",\n      px: \"3\",\n      py: \"2\",\n      rounded: \"md\",\n      borderWidth: \"1px\",\n      borderColor: \"input\",\n      shadow: \"xs\",\n      transition: \"common\",\n      outlineColor: \"transparent\",\n      _focusWithin: {\n        borderColor: \"ring\",\n        outlineWidth: \"3px\",\n        outlineStyle: \"solid\",\n        outlineColor: \"ring/50\",\n      },\n      \"&[aria-disabled=true]\": {\n        pointerEvents: \"none\",\n        cursor: \"not-allowed\",\n        opacity: \"0.5\",\n      },\n      \"&[aria-invalid=true]\": {\n        borderColor: \"danger!\",\n        outlineColor: \"danger/20!\",\n        _dark: {\n          outlineColor: \"danger/40!\",\n        },\n      },\n      \"&:has([data-slot=tags-input-list]:not(:empty))\": {\n        gap: \"2\",\n      },\n      md: {\n        textStyle: \"sm\",\n      },\n      _dark: {\n        bg: \"input/30\",\n      },\n    },\n\n    list: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      gap: \"2\",\n    },\n\n    item: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      gap: \"1\",\n      flexShrink: \"0\",\n      overflow: \"hidden\",\n      w: \"fit\",\n      px: \"1\",\n      bg: \"secondary\",\n      borderWidth: \"1px\",\n      borderColor: \"transparent\",\n      rounded: \"sm\",\n      whiteSpace: \"nowrap\",\n      transition: \"colors\",\n      \"&[aria-disabled=true]\": {\n        pointerEvents: \"none\",\n        cursor: \"not-allowed\",\n        opacity: \"0.5\",\n      },\n      \"a &\": {\n        _hover: {\n          bg: \"secondary/90\",\n        },\n      },\n    },\n\n    itemText: {\n      color: \"secondary.fg\",\n      textStyle: \"xs\",\n      fontWeight: \"medium\",\n    },\n\n    itemDeleteTrigger: {\n      \"&:active\": {\n        transform: \"translateY(1px)\",\n      },\n      \"& > svg\": {\n        w: \"3\",\n        h: \"3\",\n        pointerEvents: \"none\",\n      },\n    },\n\n    input: {\n      flex: \"1\",\n      minW: \"120px\",\n      bg: \"transparent\",\n      color: \"fg\",\n      outline: \"none\",\n      _placeholder: {\n        color: \"muted.fg\",\n      },\n    },\n\n    clearTrigger: {},\n  },\n});\n"
    }
  ]
}